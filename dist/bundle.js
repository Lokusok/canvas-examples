(()=>{"use strict";const e=class{constructor(e,o={}){this.ctx=e,this.config=o}},o=class extends e{draw(e,o){this.ctx.fillStyle=this.config.color,this.ctx.fillRect(e,o,this.config.width,this.config.height)}},r=document.createElement("canvas");r.id="game",r.width=800,r.height=450,document.body.append(r);const t=r.getContext("2d"),a={ball:{radius:12,coords:{x:Math.floor(r.width/2)-7.5,y:Math.floor(r.height/2)-7.5}},abstractPlayer:{width:10,height:100},player1:{coords:{x:15,y:15},movement:{top:!1,down:!1}},player2:{coords:{x:r.width-10-15,y:r.height-100-15},movement:{top:!1,down:!1}},abstractScore:{font:"30px Arial"},score:{score1:{coords:{x:150,y:r.height/2+7}},score2:{coords:{x:r.clientWidth-20-150,y:r.height/2+7}}}},s={player1:0,player2:0};let l=4,c=4;const d=new class extends e{draw(e,o){this.ctx.strokeStyle="red",this.ctx.fillStyle="red",this.ctx.beginPath(),this.ctx.arc(e,o,this.config.radius,0,2*Math.PI),this.ctx.fill(),this.ctx.stroke()}}(t,a.ball),y=new o(t,{...a.abstractPlayer,color:"green"}),i=new o(t,{...a.abstractPlayer,color:"blue"}),n=new class extends e{draw(e,o){this.ctx.font=this.config.font,this.ctx.fillStyle="white",this.ctx.fillText(e,this.config.score1.coords.x,this.config.score1.coords.y),this.ctx.fillText(o,this.config.score2.coords.x,this.config.score2.coords.y)}}(t,{...a.abstractScore,...a.score});window.addEventListener("keydown",(e=>{switch(e.code){case"KeyW":a.player1.movement.top=!0;break;case"KeyS":a.player1.movement.down=!0;break;case"ArrowUp":a.player2.movement.top=!0;break;case"ArrowDown":a.player2.movement.down=!0}})),window.addEventListener("keyup",(e=>{switch(e.code){case"KeyW":a.player1.movement.top=!1;break;case"KeyS":a.player1.movement.down=!1;break;case"ArrowUp":a.player2.movement.top=!1;break;case"ArrowDown":a.player2.movement.down=!1}})),requestAnimationFrame((function e(){t.clearRect(0,0,r.width,r.height),d.draw(a.ball.coords.x,a.ball.coords.y),y.draw(a.player1.coords.x,a.player1.coords.y),i.draw(a.player2.coords.x,a.player2.coords.y),n.draw(s.player1,s.player2),a.ball.coords.x+=l,a.ball.coords.y+=c,a.player1.movement.top&&a.player1.coords.y-5>=15&&(a.player1.coords.y-=5),a.player1.movement.down&&a.player1.coords.y+5<=r.height-a.abstractPlayer.height-15&&(a.player1.coords.y+=5),a.player2.movement.top&&a.player2.coords.y-5>=15&&(a.player2.coords.y-=5),a.player2.movement.down&&a.player2.coords.y+5<=r.height-a.abstractPlayer.height-15&&(a.player2.coords.y+=5),a.ball.coords.x>=a.player2.coords.x+a.ball.radius&&(s.player1++,l=-4),a.ball.coords.x<=a.player1.coords.x&&(s.player2++,l=4),(a.ball.coords.y>=r.height-a.ball.radius||a.ball.coords.y<=0+a.ball.radius)&&(c*=-1),a.ball.coords.x<=a.player1.coords.x+a.ball.radius+10&&a.ball.coords.y>=a.player1.coords.y&&a.ball.coords.y<=a.player1.coords.y+a.abstractPlayer.height&&(l*=-1.1),a.ball.coords.x>=a.player2.coords.x-a.ball.radius&&a.ball.coords.y>=a.player2.coords.y&&a.ball.coords.y<=a.player2.coords.y+a.abstractPlayer.height&&(l*=-1.1),requestAnimationFrame(e)}))})();